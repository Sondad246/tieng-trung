<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Quản lý mã cân</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f5f5f7;
            padding: 16px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .app-container {
            max-width: 1000px;
            margin: 0 auto;
            width: 100%;
            background: white;
            border-radius: 32px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            padding: 20px 16px 80px 16px;
            position: relative;
        }
        h1 {
            font-size: 2rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 20px;
            padding-left: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        /* Thanh tab */
        .tab-bar {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
        }
        .tab-btn {
            flex: 1;
            background: #e9eef2;
            border: none;
            border-radius: 40px;
            padding: 16px 8px;
            font-size: 1.3rem;
            font-weight: 500;
            color: #334155;
            cursor: pointer;
            transition: 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            -webkit-tap-highlight-color: transparent;
        }
        .tab-btn i {
            font-size: 1.4rem;
        }
        .tab-btn.active {
            background: #2d6a4f;
            color: white;
        }

        /* Thanh công cụ cho tab Mã cân */
        .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 12px;
        }
        .sort-controls {
            display: flex;
            gap: 8px;
            background: #f1f5f9;
            padding: 6px;
            border-radius: 40px;
        }
        .sort-btn {
            background: transparent;
            border: none;
            padding: 10px 20px;
            border-radius: 40px;
            font-size: 1rem;
            font-weight: 500;
            color: #475569;
            cursor: pointer;
            transition: 0.2s;
        }
        .sort-btn.active {
            background: #2d6a4f;
            color: white;
        }
        .sort-btn i {
            margin-right: 6px;
        }

        /* Badge thống kê */
.stats-badge {
    background: #f1f5f9;
    border-radius: 40px;
    padding: 10px 20px;        /* tăng padding để cân đối với chữ to */
    font-size: 2rem;         /* tăng kích thước chữ */
    font-weight: 700;          /* làm đậm hơn một chút */
    color: #1e293b;
    display: inline-flex;
    align-items: center;
    gap: 10px;                 /* tăng khoảng cách giữa icon và text */
    box-shadow: 0 2px 4px rgba(0,0,0,0.03);
    border: 1px solid #e2e8f0;
}

.stats-badge i {
    color: #2d6a4f;
    font-size: 1.5rem;         /* icon to hơn tương ứng */
}

        /* Lưới hiển thị mã cân */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 12px;
            max-height: 70vh;
            overflow-y: auto;
            padding: 4px 2px;
        }
        .weight-card {
            background: #ffffff;
            border-radius: 20px;
            padding: 12px 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 8px;
            transition: 0.2s;
        }
        .weight-card:active {
            transform: scale(0.98);
            background: #f8fafc;
        }
        .weight-code {
            font-size: 1.8rem;
            color: #2d6a4f;
            min-width: 24px;
            text-align: left;
        }
        .weight-sep {
            font-size: 1.8rem;
            color: #2d6a4f;
        }
        .grid-container.hide-code .weight-code,
        .grid-container.hide-code .weight-sep {
            display: none;
        }
        .grid-container.hide-code .weight-card {
            justify-content: center;
        }
        .weight-value {
            font-size: 2rem;
            font-weight: 700;
            color: #0f172a;
            line-height: 1.2;
        }
        .weight-unit {
            font-size: 0.9rem;
            color: #64748b;
            margin-left: 2px;
        }

        /* Danh sách người mua dạng card cũ (giữ nguyên) */
        .list-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .card {
            background: #ffffff;
            border-radius: 24px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
        }
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        .card-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #0f172a;
        }
        .card-badge {
            background: #d9f99d;
            color: #3f6212;
            padding: 6px 14px;
            border-radius: 40px;
            font-weight: 600;
            font-size: 1rem;
        }
        .card-detail {
            display: flex;
            flex-wrap: wrap;
            gap: 16px 24px;
            margin-bottom: 12px;
            color: #334155;
            font-size: 1.1rem;
        }
        .card-detail i {
            width: 24px;
            color: #2d6a4f;
        }
        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px dashed #cbd5e1;
            padding-top: 12px;
            margin-top: 8px;
            color: #64748b;
        }
        .contact-btn {
            background: #2d6a4f;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 40px;
            font-size: 1rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        /* Nút thêm nổi */
        .fab {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: #2d6a4f;
            color: white;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            box-shadow: 0 6px 16px rgba(0,80,50,0.3);
            border: none;
            cursor: pointer;
            transition: 0.2s;
            z-index: 100;
        }
        .fab:active {
            transform: scale(0.95);
        }

        /* Overlay và popup (giữ nguyên) */
        .overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.4);
            z-index: 150;
            display: none;
        }
        .overlay.active {
            display: block;
        }

        .form-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 24px;
            border-radius: 32px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            width: 90%;
            max-width: 500px;
            z-index: 200;
            display: none;
        }
        .form-popup.active {
            display: block;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #1e293b;
            font-size: 1.1rem;
        }
        .form-group input {
            width: 100%;
            padding: 16px;
            font-size: 1.1rem;
            border: 1px solid #cbd5e1;
            border-radius: 24px;
            background: #f8fafc;
        }
        .btn-submit {
            background: #2d6a4f;
            color: white;
            border: none;
            padding: 18px;
            font-size: 1.2rem;
            border-radius: 40px;
            width: 100%;
            font-weight: 600;
            margin-top: 10px;
            cursor: pointer;
        }
        .btn-cancel {
            background: #e2e8f0;
            color: #1e293b;
            border: none;
            padding: 14px;
            font-size: 1.1rem;
            border-radius: 40px;
            width: 100%;
            margin-top: 10px;
            cursor: pointer;
        }

        /* Máy tính popup */
        .calc-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 24px;
            border-radius: 32px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            width: 90%;
            max-width: 450px;
            z-index: 200;
            display: none;
        }
        .calc-popup.active {
            display: block;
        }
        .calc-display {
            background: #f1f5f9;
            padding: 20px;
            border-radius: 24px;
            text-align: right;
            margin-bottom: 20px;
            min-height: 90px;
        }
        .calc-expression {
            font-size: 1.2rem;
            color: #475569;
            word-break: break-all;
        }
        .calc-result {
            font-size: 2.2rem;
            font-weight: 700;
            color: #0f172a;
            margin-top: 4px;
        }
        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        .calc-btn {
            background: #e9eef2;
            border: none;
            border-radius: 20px;
            padding: 20px 0;
            font-size: 1.6rem;
            font-weight: 500;
            color: #1e293b;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: 0.1s;
        }
        .calc-btn.operator {
            background: #fed7aa;
            color: #7b341e;
        }
        .calc-btn.equals {
            background: #2d6a4f;
            color: white;
            grid-column: span 2;
        }
        .calc-btn:active {
            opacity: 0.7;
        }
        .calc-description {
            width: 100%;
            padding: 16px;
            font-size: 1.1rem;
            border: 1px solid #cbd5e1;
            border-radius: 40px;
            margin-bottom: 16px;
            background: #f8fafc;
        }
        .calc-actions {
            display: flex;
            gap: 12px;
        }
        .calc-save {
            flex: 2;
            background: #2d6a4f;
            color: white;
            border: none;
            padding: 16px 0;
            font-size: 1.2rem;
            border-radius: 40px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .calc-cancel {
            flex: 1;
            background: #e2e8f0;
            color: #1e293b;
            border: none;
            padding: 16px 0;
            font-size: 1.1rem;
            border-radius: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <h1>
            <i class="fas fa-weight-scale" style="color:#2d6a4f;"></i> 
            Quản lý cân & người mua
        </h1>
        
        <!-- Thanh tab -->
<!-- Thanh tab (đã sửa) -->
<div class="tab-bar">
    <button class="tab-btn active" data-tab="maCan"><i class="fas fa-weight-hanging"></i> Mã cân</button>
    <button class="tab-btn" data-tab="nguoiMua"><i class="fas fa-users"></i> Người mua</button>
</div>

        <!-- Khu vực hiển thị nội dung (sẽ được thay bằng grid khi là mã cân) -->
        <div id="content-area"></div>
    </div>

    <!-- Nút thêm nổi -->
    <button class="fab" id="fabBtn"><i class="fas fa-plus"></i></button>

    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Form thêm người mua -->
    <div class="form-popup" id="formNguoiMua">
        <h2 style="margin-bottom: 20px;">➕ Thêm người mua</h2>
        <div class="form-group">
            <label>Tên người mua / Công ty</label>
            <input type="text" id="tenInput" placeholder="VD: Trang trại Hoa Mai">
        </div>
        <div class="form-group">
            <label>Địa điểm</label>
            <input type="text" id="diaDiemInput" placeholder="Tỉnh / Huyện">
        </div>
        <div class="form-group">
            <label>Liên hệ</label>
            <input type="text" id="lienHeInput" placeholder="SĐT hoặc Zalo">
        </div>
        <button class="btn-submit" id="submitNguoiMua"><i class="fas fa-save"></i> Lưu người mua</button>
        <button class="btn-cancel" id="cancelNguoiMua">Hủy</button>
    </div>

    <!-- Máy tính popup -->
    <div class="calc-popup" id="calcPopup">
        <h2 style="margin-bottom: 20px;">⚖️ Thêm mã cân</h2>
        <div class="calc-display">
            <div class="calc-expression" id="calcExpression"></div>
            <div class="calc-result" id="calcResult">0</div>
        </div>
        <div class="calc-buttons">
            <button class="calc-btn" data-calc="7">7</button>
            <button class="calc-btn" data-calc="8">8</button>
            <button class="calc-btn" data-calc="9">9</button>
            <button class="calc-btn operator" data-calc="/">÷</button>
            <button class="calc-btn" data-calc="4">4</button>
            <button class="calc-btn" data-calc="5">5</button>
            <button class="calc-btn" data-calc="6">6</button>
            <button class="calc-btn operator" data-calc="*">×</button>
            <button class="calc-btn" data-calc="1">1</button>
            <button class="calc-btn" data-calc="2">2</button>
            <button class="calc-btn" data-calc="3">3</button>
            <button class="calc-btn operator" data-calc="-">−</button>
            <button class="calc-btn" data-calc="0">0</button>
            <button class="calc-btn" data-calc=".">.</button>
            <button class="calc-btn" id="calcClear">C</button>
            <button class="calc-btn operator" data-calc="+">+</button>
            <button class="calc-btn equals" id="calcEquals">=</button>
        </div>
        <input type="text" class="calc-description" id="calcDescription" placeholder="Nhập mô tả (không bắt buộc)">
        <div class="calc-actions">
            <button class="calc-save" id="calcSave"><i class="fas fa-save"></i> Lưu</button>
            <button class="calc-cancel" id="calcCancel"><i class="fas fa-times"></i> Hủy</button>
        </div>
    </div>

    <script>
        // Dữ liệu
        let data = {
            nguoiMua: [
                { id: 1, name: 'Công ty Vissan', location: 'TP.HCM', contact: '0283xxxxxx' },
                { id: 2, name: 'Lò mổ Đức Hạnh', location: 'Đồng Nai', contact: '0251xxxxxx' },
                { id: 3, name: 'Anh Tùng (thương lái)', location: 'Bắc Giang', contact: '0972xxxxxx' }
            ],
            maCan: [
                { id: 1, code: '1', weight: 185 },
                { id: 2, code: '2', weight: 176 },
                { id: 3, code: '3', weight: 192 },
                { id: 4, code: '4', weight: 168 },
                { id: 5, code: '5', weight: 105 },
                { id: 6, code: '6', weight: 179 },
                { id: 7, code: '7', weight: 188 },
                { id: 8, code: '8', weight: 171 },
                { id: 9, code: '9', weight: 195 },
                { id: 10, code: '10', weight: 182 }
            ]
        };

        let currentTab = 'maCan';
        let sortMode = 'code-asc';
        let hideCode = false;

        // Hàm sắp xếp mã cân
        function sortMaCan(items, mode) {
            const sorted = [...items];
            switch(mode) {
                case 'code-asc':
                    sorted.sort((a, b) => Number(a.code) - Number(b.code));
                    break;
                case 'code-desc':
                    sorted.sort((a, b) => Number(b.code) - Number(a.code));
                    break;
                case 'weight-asc':
                    sorted.sort((a, b) => a.weight - b.weight);
                    break;
                case 'weight-desc':
                    sorted.sort((a, b) => b.weight - a.weight);
                    break;
                default:
                    break;
            }
            return sorted;
        }

        // Render danh sách
        function renderList(tabId) {
            const container = document.getElementById('content-area');
            if (tabId === 'maCan') {
                const sortedItems = sortMaCan(data.maCan, sortMode);
                const totalWeight = sortedItems.reduce((acc, item) => acc + item.weight, 0);

                let toolbarHtml = `
<!-- Phần toolbar đã được cập nhật trong function renderList (tab maCan) -->
<div class="toolbar">
    <div style="display: flex; align-items: center; gap: 12px; flex-wrap: wrap;">
        <div class="sort-controls">
            <button class="sort-btn ${sortMode === 'code-asc' ? 'active' : ''}" data-sort="code-asc"><i class="fas fa-sort-alpha-down"></i> Mã ↑</button>
            <button class="sort-btn ${sortMode === 'code-desc' ? 'active' : ''}" data-sort="code-desc"><i class="fas fa-sort-alpha-up"></i> Mã ↓</button>
            <button class="sort-btn ${sortMode === 'weight-asc' ? 'active' : ''}" data-sort="weight-asc"><i class="fas fa-sort-numeric-down"></i> Kg ↑</button>
            <button class="sort-btn ${sortMode === 'weight-desc' ? 'active' : ''}" data-sort="weight-desc"><i class="fas fa-sort-numeric-up"></i> Kg ↓</button>
            <button class="sort-btn" id="toggleCodeBtn" style="background: ${hideCode ? '#f1f5f9' : '#2d6a4f'}; color: ${hideCode ? '#334155' : 'white'};">
                <i class="fas fa-hashtag"></i> ${hideCode ? 'Hiện số' : 'Ẩn số'}
            </button>
        </div>
                            </div>
        <div style="display: flex; align-items: center; gap: 12px; margin-left: auto;">
<div class="stats-badge">${sortedItems.length} Con</div>
            <div class="stats-badge">${totalWeight} kg</div>
        </div>
    </div>
</div>
                `;

                let gridContainerClass = 'grid-container' + (hideCode ? ' hide-code' : '');
                let gridHtml = `<div class="${gridContainerClass}">`;
                
                sortedItems.forEach((item) => {
                    gridHtml += `
                        <div class="weight-card" onclick="alert('Mã ${item.code}: ${item.weight} kg')">
                            <span class="weight-code">${item.code}</span>
                            <span class="weight-sep">-</span>
                            <span class="weight-value">${item.weight}<span class="weight-unit">kg</span></span>
                        </div>
                    `;
                });
                gridHtml += '</div>';

                container.innerHTML = toolbarHtml + gridHtml;

                document.querySelectorAll('.sort-btn[data-sort]').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        sortMode = btn.dataset.sort;
                        renderList('maCan');
                    });
                });

                const toggleBtn = document.getElementById('toggleCodeBtn');
                if (toggleBtn) {
                    const newToggleBtn = toggleBtn.cloneNode(true);
                    toggleBtn.parentNode.replaceChild(newToggleBtn, toggleBtn);
                    newToggleBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        hideCode = !hideCode;
                        renderList('maCan');
                    });
                }
            } else { // nguoiMua
                let html = '<div class="list-container">';
                data.nguoiMua.forEach(item => {
                    html += `
                        <div class="card">
                            <div class="card-header">
                                <span class="card-title">${item.name}</span>
                                <span class="card-badge">Người mua</span>
                            </div>
                            <div class="card-detail">
                                <div><i class="fas fa-map-marker-alt"></i> ${item.location}</div>
                                <div><i class="fas fa-phone-alt"></i> ${item.contact}</div>
                            </div>
                            <div class="card-footer">
                                <span><i class="fas fa-user"></i> Đầu mối</span>
                                <button class="contact-btn" onclick="alert('Liên hệ: ${item.contact}')"><i class="fas fa-comment"></i> Chat</button>
                            </div>
                        </div>
                    `;
                });
                html += '</div>';
                container.innerHTML = html;
            }
        }

        // Xử lý chuyển tab
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentTab = btn.dataset.tab;
                renderList(currentTab);
            });
        });

        // ---- Quản lý popup người mua ----
        const formNguoiMua = document.getElementById('formNguoiMua');
        const overlay = document.getElementById('overlay');
        const cancelNguoiMua = document.getElementById('cancelNguoiMua');
        const submitNguoiMua = document.getElementById('submitNguoiMua');

        function openFormNguoiMua() {
            overlay.classList.add('active');
            formNguoiMua.classList.add('active');
        }

        function closeFormNguoiMua() {
            overlay.classList.remove('active');
            formNguoiMua.classList.remove('active');
            document.getElementById('tenInput').value = '';
            document.getElementById('diaDiemInput').value = '';
            document.getElementById('lienHeInput').value = '';
        }

        submitNguoiMua.addEventListener('click', () => {
            const ten = document.getElementById('tenInput').value.trim();
            const diaDiem = document.getElementById('diaDiemInput').value.trim();
            const lienHe = document.getElementById('lienHeInput').value.trim();

            if (!ten || !diaDiem || !lienHe) {
                alert('Vui lòng nhập đầy đủ thông tin');
                return;
            }

            const newId = Date.now();
            data.nguoiMua.push({
                id: newId,
                name: ten,
                location: diaDiem,
                contact: lienHe
            });
            renderList('maCan');
            closeFormNguoiMua();
        });

        cancelNguoiMua.addEventListener('click', closeFormNguoiMua);

        // ---- Quản lý máy tính ----
        const calcPopup = document.getElementById('calcPopup');
        const calcExpression = document.getElementById('calcExpression');
        const calcResult = document.getElementById('calcResult');
        const calcClear = document.getElementById('calcClear');
        const calcEquals = document.getElementById('calcEquals');
        const calcSave = document.getElementById('calcSave');
        const calcCancel = document.getElementById('calcCancel');
        const calcDescription = document.getElementById('calcDescription');

        let currentExpression = '';
        let currentResult = '0';
        let lastWasEqual = false;

        function updateCalcDisplay() {
            calcExpression.innerText = currentExpression || ' ';
            calcResult.innerText = currentResult;
        }

        function handleCalcButton(value) {
            if (lastWasEqual && !isNaN(value)) {
                currentExpression = '';
                currentResult = '0';
                lastWasEqual = false;
            }
            if (value === 'C') {
                currentExpression = '';
                currentResult = '0';
            } else if (value === '=') {
                try {
                    let expr = currentExpression.replace(/×/g, '*').replace(/÷/g, '/');
                    if (/^[0-9+\-*/().\s]+$/.test(expr) && !expr.includes('/0')) {
                        const result = eval(expr);
                        currentResult = Math.round(result * 100) / 100;
                        currentExpression = expr;
                        lastWasEqual = true;
                    } else {
                        currentResult = 'Lỗi';
                    }
                } catch {
                    currentResult = 'Lỗi';
                }
            } else {
                if (lastWasEqual) lastWasEqual = false;
                if (['+', '-', '*', '/', '×', '÷'].includes(value)) {
                    if (currentExpression === '' && value !== '-') {
                        currentExpression = '0' + value;
                    } else {
                        currentExpression += value;
                    }
                } else {
                    currentExpression += value;
                }
            }
            updateCalcDisplay();
        }

        document.querySelectorAll('[data-calc]').forEach(btn => {
            btn.addEventListener('click', () => {
                handleCalcButton(btn.dataset.calc);
            });
        });
        calcClear.addEventListener('click', () => handleCalcButton('C'));
        calcEquals.addEventListener('click', () => handleCalcButton('='));

        function openCalc() {
            currentExpression = '';
            currentResult = '0';
            lastWasEqual = false;
            calcDescription.value = '';
            updateCalcDisplay();
            overlay.classList.add('active');
            calcPopup.classList.add('active');
        }

        function closeCalc() {
            overlay.classList.remove('active');
            calcPopup.classList.remove('active');
        }

        calcSave.addEventListener('click', () => {
            const weight = parseFloat(calcResult.innerText);
            if (isNaN(weight) || calcResult.innerText === 'Lỗi') {
                alert('Kết quả không hợp lệ. Vui lòng nhập phép tính hợp lệ.');
                return;
            }
            const desc = calcDescription.value.trim();
            const lastId = data.maCan.length > 0 ? Math.max(...data.maCan.map(i => i.id)) : 0;
            const newId = lastId + 1;
            const newCode = newId.toString();
            data.maCan.push({
                id: newId,
                code: newCode,
                weight: weight,
                description: desc
            });
            renderList('maCan');
            closeCalc();
        });

        calcCancel.addEventListener('click', closeCalc);

        // Nút thêm nổi
        document.getElementById('fabBtn').addEventListener('click', () => {
            if (currentTab === 'maCan') {
                openCalc();
            } else {
                openFormNguoiMua();
            }
        });

        overlay.addEventListener('click', () => {
            closeFormNguoiMua();
            closeCalc();
        });

        // Khởi tạo
        renderList('maCan');
    </script>
</body>
</html>
